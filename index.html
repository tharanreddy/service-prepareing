<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuickCar - Modern Car Service</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>

    <!-- Language Selection Screen -->
    <section class="screen language-screen" id="language-selection-screen">
        <div class="language-content">
            <h1 class="app-title">QuickCar</h1>
            <p class="app-tagline">Your Modern Car Service Partner</p>
            <h2 class="section-heading">Choose Your Language</h2>
            <div class="language-options">
                <button class="lang-btn" data-lang="en">English</button>
                <button class="lang-btn" data-lang="hi">हिंदी</button>
                <button class="lang-btn" data-lang="mr">मराठी</button>
                <button class="lang-btn" data-lang="te">తెలుగు</button>
                <button class="lang-btn" data-lang="kn">ಕನ್ನಡ</button>
            </div>
        </div>
    </section>

    <!-- Authentication Screens -->
    <section class="screen auth-screen" id="customer-auth-screen" style="display: none;">
        <div class="auth-card">
            <h2 class="auth-heading">Customer Access</h2>
            <form id="customerLoginForm" class="auth-form">
                <h3>Login</h3>
                <div class="form-group">
                    <label for="customerLoginEmail">Email</label>
                    <input type="email" id="customerLoginEmail" required>
                </div>
                <div class="form-group">
                    <label for="customerLoginPassword">Password</label>
                    <input type="password" id="customerLoginPassword" required>
                </div>
                <button type="submit" class="btn btn-primary">Login</button>
                <p class="auth-switch">Don't have an account? <a href="#" id="showRegister">Register here</a></p>
            </form>
            <form id="customerRegisterForm" class="auth-form" style="display:none;">
                <h3>Register</h3>
                <div class="form-group">
                    <label for="customerRegisterName">Name</label>
                    <input type="text" id="customerRegisterName" required>
                </div>
                <div class="form-group">
                    <label for="customerRegisterEmail">Email</label>
                    <input type="email" id="customerRegisterEmail" required>
                </div>
                <div class="form-group">
                    <label for="customerRegisterPassword">Password</label>
                    <input type="password" id="customerRegisterPassword" required>
                </div>
                <button type="submit" class="btn btn-primary">Register</button>
                <p class="auth-switch">Already have an account? <a href="#" id="showLogin">Login here</a></p>
            </form>
        </div>
    </section>

    <section class="screen auth-screen" id="service-center-auth-screen" style="display: none;">
        <div class="auth-card">
            <h2 class="auth-heading">Service Center Access</h2>
            <form id="serviceCenterLoginForm" class="auth-form">
                <h3>Login</h3>
                <div class="form-group">
                    <label for="centerLoginEmail">Email</label>
                    <input type="email" id="centerLoginEmail" required>
                </div>
                <div class="form-group">
                    <label for="centerLoginPassword">Password</label>
                    <input type="password" id="centerLoginPassword" required>
                </div>
                <button type="submit" class="btn btn-primary">Login</button>
                <p class="forgot-password-link"><a href="#" onclick="forgotPassword('serviceCenter')">Forgot Password?</a></p>
            </form>
        </div>
    </section>

    <!-- Main Application Layout -->
    <div class="app-container" style="display: none;">
        <header class="app-header">
            <div class="header-left">
                <span class="app-logo-icon"><i class="fas fa-car-side"></i></span>
                <span class="app-name">QuickCar</span>
            </div>
            <nav class="main-nav">
                <ul>
                    <li><a href="#home-section" class="nav-link" data-translate="nav_home">Home</a></li>
                    <li><a href="#booking-section" class="nav-link" data-translate="nav_book_service">Book Service</a></li>
                    <li><a href="#payment-section" class="nav-link" data-translate="nav_payments">Payments</a></li>
                    <li><a href="#feedback-section" class="nav-link" data-translate="nav_feedback">Feedback</a></li>
                    <li><a href="#contact-section" class="nav-link" data-translate="nav_contact">Contact Us</a></li>
                    <li class="customer-nav-item"><a href="#profile-section" class="nav-link" data-translate="nav_profile">Profile</a></li>
                    <li class="customer-nav-item"><a href="#chat-section" class="nav-link" data-translate="nav_chat">Chat</a></li>
                </ul>
            </nav>
            <button class="btn btn-secondary logout-btn" onclick="logoutUser(currentUserRole)">Logout</button>
        </header>

        <main class="app-main">
            <!-- Home Section -->
            <section class="content-section active" id="home-section">
                <div class="hero-content">
                    <h2 data-translate="hero_heading">Experience Hassle-Free Car Servicing!</h2>
                    <p data-translate="hero_subheading">
                        From pickup to delivery, we make car maintenance easy and transparent. Quick, reliable, and just a tap away.
                    </p>
                    <button class="btn btn-primary" onclick="showContentSection('booking-section')" data-translate="book_now_cta">
                        Book Your Service Now
                    </button>
                </div>
            </section>

            <!-- Booking Section -->
            <section class="content-section" id="booking-section" style="display: none;">
                <div class="section-card">
                    <h2 class="section-heading">Book Your Service</h2>
                    <form id="serviceBookingForm" class="app-form">
                        <div class="form-group">
                            <label for="customerName">Your Name</label>
                            <input type="text" id="customerName" required>
                        </div>
                        <div class="form-group">
                            <label for="customerContact">Contact Number</label>
                            <input type="tel" id="customerContact" required>
                        </div>
                        <div class="form-group">
                            <label for="customerAddress">Pickup Address</label>
                            <textarea id="customerAddress" rows="3" required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="carModel">Car Model</label>
                            <input type="text" id="carModel" required>
                        </div>
                        <div class="form-group">
                            <label for="serviceType">Select Service Type</label>
                            <select id="serviceType" required>
                                <option value="">-- Choose Service --</option>
                                <option value="Basic Service">Basic Service</option>
                                <option value="Full Service">Full Service</option>
                                <option value="Engine Repair">Engine Repair</option>
                                <option value="Wheel Alignment">Wheel Alignment</option>
                                <option value="Car Wash">Car Wash</option>
                                <option value="Denting & Painting">Denting & Painting</option>
                                <option value="Other">Other (Please specify)</option>
                            </select>
                        </div>
                        <div class="form-group" id="otherServiceTypeGroup" style="display: none;">
                            <label for="otherServiceType">Please specify other service</label>
                            <input type="text" id="otherServiceType" placeholder="e.g., AC Repair, Battery Check">
                        </div>
                        <div class="form-group">
                            <label for="preferredDate">Preferred Date</label>
                            <input type="date" id="preferredDate" required>
                        </div>
                        <div class="form-group">
                            <label for="preferredTime">Preferred Time</label>
                            <input type="time" id="preferredTime" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Request Service</button>
                    </form>
                </div>
            </section>

            <!-- Payment Section -->
            <section class="content-section" id="payment-section" style="display: none;">
                <div class="section-card">
                    <h2 class="section-heading">Complete Your Payment</h2>
                    <div class="payment-details">
                        <p>Service ID: <span id="paymentServiceId">#00000</span></p>
                        <p>Customer Name: <span id="paymentCustomerName">N/A</span></p>
                        <p>Service Type: <span id="paymentServiceType">N/A</span></p>
                        <p class="amount-due">Amount Due: <span id="paymentAmountDue">₹0.00</span></p>
                    </div>
                    <form id="paymentForm" class="app-form">
                        <div class="form-group">
                            <label for="paymentMethod">Payment Method</label>
                            <select id="paymentMethod" required onchange="togglePaymentFields()">
                                <option value="">-- Select Method --</option>
                                <option value="cash">Cash</option>
                                <option value="online">Online Payment (UPI/Netbanking)</option>
                            </select>
                        </div>

                        <div id="onlinePaymentFields" style="display: none;">
                            <div class="form-group">
                                <label for="customerMobileNumber">Your Mobile Number (for UPI)</label>
                                <input type="tel" id="customerMobileNumber" placeholder="e.g., 9876543210" pattern="[0-9]{10}">
                            </div>
                            <div class="form-group">
                                <label for="customerUpiId">Your UPI ID</label>
                                <input type="text" id="customerUpiId" placeholder="e.g., yourname@bankname">
                            </div>
                            <p class="payment-instruction">
                                <i class="fas fa-info-circle"></i> Enter Mobile Number (linked to UPI) or UPI ID.
                            </p>
                        </div>
                        <button type="submit" class="btn btn-primary">Confirm Payment</button>
                    </form>
                    <div id="paymentStatus" class="message-box"></div>
                </div>
            </section>

            <!-- Feedback Section -->
            <section class="content-section" id="feedback-section" style="display: none;">
                <div class="section-card">
                    <h2 class="section-heading">Share Your Feedback</h2>
                    <form id="feedbackForm" class="app-form">
                        <div class="form-group">
                            <label for="serviceIdFeedback">Service ID</label>
                            <input type="text" id="serviceIdFeedback" placeholder="#SVC12345" required>
                        </div>
                        <div class="form-group">
                            <label>Rate your experience</label>
                            <div class="star-rating" id="starRating">
                                <i class="far fa-star" data-rating="1"></i>
                                <i class="far fa-star" data-rating="2"></i>
                                <i class="far fa-star" data-rating="3"></i>
                                <i class="far fa-star" data-rating="4"></i>
                                <i class="far fa-star" data-rating="5"></i>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="feedbackMessage">Your Comments</label>
                            <textarea id="feedbackMessage" rows="5" placeholder="Tell us about your experience..." required></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">Submit Feedback</button>
                    </form>
                </div>

                <div class="section-card customer-testimonials-card">
                    <h3 class="section-subheading">What Our Customers Say:</h3>
                    <ul id="testimonialList" class="testimonial-list">
                        <!-- Testimonials will be dynamically added here -->
                    </ul>
                    <p class="empty-message" id="noTestimonialsMessage">No testimonials yet. Be the first!</p>
                </div>
            </section>

            <!-- Contact Section -->
            <section class="content-section" id="contact-section" style="display: none;">
                <div class="section-card">
                    <h2 class="section-heading">Contact Us</h2>
                    <div class="contact-info-block">
                        <p><i class="fas fa-map-marker-alt"></i> QuickCar Service Hub, 456 Speed Avenue, Auto City, State 54321</p>
                        <p><i class="fas fa-phone"></i> +91 98765 43210</p>
                        <p><i class="fas fa-envelope"></i> support@quickcar.com</p>
                    </div>
                    <iframe
                        class="contact-map"
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d241317.1160982607!2d72.74109995!3d19.0821978!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3be7b63b0c8e8e8f%3A0x7b7b7b7b7b7b7b7b!2sAuto%20Service%20Center!5e0!3m2!1sen!2sin!4v1620000000000!5m2!1sen!2sin"
                        width="100%" height="220" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
                    
                    <h3 class="section-subheading">Send us a Message</h3>
                    <form id="contactForm" class="app-form">
                        <div class="form-group">
                            <label for="contactName">Your Name</label>
                            <input type="text" id="contactName" required>
                        </div>
                        <div class="form-group">
                            <label for="contactEmail">Your Email</label>
                            <input type="email" id="contactEmail" required>
                        </div>
                        <div class="form-group">
                            <label for="contactSubject">Subject</label>
                            <input type="text" id="contactSubject" required>
                        </div>
                        <div class="form-group">
                            <label for="contactMessage">Message</label>
                            <textarea id="contactMessage" rows="5" required></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">Send Message</button>
                    </form>
                </div>
            </section>

            <!-- Profile Section -->
            <section class="content-section" id="profile-section" style="display: none;">
                <div class="section-card">
                    <h2 class="section-heading">Your Profile</h2>
                    <form id="profileForm" class="app-form">
                        <h3 class="section-subheading">Personal Information</h3>
                        <div class="form-group">
                            <label for="profileName">Name</label>
                            <input type="text" id="profileName" value="John Doe">
                        </div>
                        <div class="form-group">
                            <label for="profileEmail">Email</label>
                            <input type="email" id="profileEmail" value="john.doe@example.com">
                        </div>
                        <div class="form-group">
                            <label for="profileMobile">Mobile Number</label>
                            <input type="tel" id="profileMobile" value="9876543210" pattern="[0-9]{10}">
                        </div>
                        <div class="form-group">
                            <label for="profileAddress">Address</label>
                            <textarea id="profileAddress" rows="3">123 Main St, Apt 4B, City, State, 12345</textarea>
                        </div>

                        <h3 class="section-subheading">Car Details</h3>
                        <div class="form-group">
                            <label for="profileCarMake">Car Make</label>
                            <input type="text" id="profileCarMake" value="Toyota">
                        </div>
                        <div class="form-group">
                            <label for="profileCarModel">Car Model</label>
                            <input type="text" id="profileCarModel" value="Camry">
                        </div>
                        <div class="form-group">
                            <label for="profileCarYear">Car Year</label>
                            <input type="number" id="profileCarYear" value="2020" min="1900" max="2099">
                        </div>
                        <div class="form-group">
                            <label for="profileLicensePlate">License Plate</label>
                            <input type="text" id="profileLicensePlate" value="MH12AB1234">
                        </div>

                        <button type="submit" class="btn btn-primary">Save Changes</button>
                    </form>
                </div>
            </section>

            <!-- Chat Section -->
            <section class="content-section" id="chat-section" style="display: none;">
                <div class="chat-card">
                    <h2 class="section-heading">Chat with Service Center</h2>
                    <div class="chat-window">
                        <div class="chat-messages" id="chatMessages">
                            <div class="message received">
                                <p>Service Center: Hello! How can we help you today?</p>
                            </div>
                        </div>
                        <div class="chat-input-area">
                            <input type="text" id="chatInput" placeholder="Type your message...">
                            <button class="btn btn-primary" onclick="sendMessage()">Send</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Service Center Dashboard -->
            <section class="content-section" id="service-center-dashboard" style="display: none;">
                <div class="dashboard-grid">
                    <div class="dashboard-card service-requests-card">
                        <h2 class="section-heading">Service Requests</h2>
                        <ul id="serviceRequestsList" class="request-list">
                            <li class="empty-message" id="noRequestsMessage">No new service requests.</li>
                        </ul>
                    </div>

                    <div class="dashboard-card points-card">
                        <h2 class="section-heading">Points Balance</h2>
                        <p class="points-balance" id="centerPointsBalance">5000 points</p>
                        <div class="points-info">
                            <p><i class="fas fa-check-circle"></i> Earn points for every completed service!</p>
                            <p><i class="fas fa-dollar-sign"></i> Convert points to cash payouts.</p>
                        </div>
                        <button class="btn btn-secondary" onclick="convertCenterPoints()">Convert Points to Cash</button>
                    </div>

                    <div class="dashboard-card feedback-received-card">
                        <h2 class="section-heading">Customer Feedback</h2>
                        <ul id="customerFeedbackList" class="feedback-list">
                            <li class="empty-message" id="noFeedbackMessage">No new feedback yet.</li>
                        </ul>
                    </div>

                    <div class="dashboard-card payment-history-card">
                        <h2 class="section-heading">Payment History</h2>
                        <ul id="paymentHistoryList" class="payment-list">
                            <li class="empty-message" id="noPaymentHistoryMessage">No payments received yet.</li>
                        </ul>
                    </div>
                </div>
                <button class="btn btn-danger logout-btn" onclick="logoutUser('center')">Logout</button>
            </section>
        </main>

        <footer class="app-footer">
            <p>&copy; 2025 QuickCar. All rights reserved.</p>
        </footer>
    </div>

    <!-- Custom Message Box for Alerts -->
    <div id="customMessageBox" class="custom-message-box" style="display: none;">
        <span id="messageText"></span>
    </div>

    <!-- Firebase SDKs - Moved to load BEFORE script.js -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
    <script>
// Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
const firebaseConfig = {
  apiKey: "AIzaSyC5fD8NFPlNHW4Kg20Y2_1h7MtbzoGic_M",
  authDomain: "online-service-8206f.firebaseapp.com",
  projectId: "online-service-8206f",
  storageBucket: "online-service-8206f.firebasestorage.app",
  messagingSenderId: "185774768084",
  appId: "1:185774768084:web:f34b640c9dbe91d3c4a041"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
    </script>
    <script src="script.js"></script>
</body>
</html>
